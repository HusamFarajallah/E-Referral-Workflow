<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ù…Ù†ØµØ© Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ© - Ù„ÙˆØ­Ø© Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
      :root {
        /* Light mode colors */
        --bg-primary: #ffffff;
        --bg-secondary: #f8f9fa;
        --bg-tertiary: #f0f1f4;
        --text-primary: #2c3e50;
        --text-secondary: #7a8699;
        --text-tertiary: #4a5568;
        --border-color: #e9ecef;
        --header-bg: linear-gradient(135deg, #5e72e4 0%, #825ee4 100%);
        --accent-color: #5e72e4;
        --accent-dark: #4c63d2;
        --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
        --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.08);
      }

      body.dark-mode {
        --bg-primary: #1a1d23;
        --bg-secondary: #232836;
        --bg-tertiary: #2d3139;
        --text-primary: #e8edf5;
        --text-secondary: #a8b5c6;
        --text-tertiary: #cbd5e0;
        --border-color: #3d4451;
        --header-bg: linear-gradient(135deg, #5e72e4 0%, #825ee4 100%);
        --accent-color: #5e72e4;
        --accent-dark: #7b8ff5;
        --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3);
        --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.25);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        background: var(--bg-secondary);
        min-height: 100vh;
        padding: 20px;
        color: var(--text-primary);
        transition: background-color 0.3s ease, color 0.3s ease;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        background: var(--bg-primary);
        border-radius: 12px;
        box-shadow: var(--shadow-md);
        overflow: hidden;
        transition: background-color 0.3s ease, box-shadow 0.3s ease;
      }

      .header {
        background: var(--header-bg);
        color: white;
        padding: 35px 20px;
        text-align: center;
      }

      .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
      }

      .header p {
        font-size: 1.1em;
        opacity: 0.9;
      }

      .toggle-buttons {
        padding: 25px;
        position: absolute;
        top: 20px;
        right: 20px;
        display: flex;
        gap: 10px;
      }

      .language-toggle,
      .dark-mode-toggle {
        background: rgba(255, 255, 255, 0.95);
        border: none;
        padding: 8px 16px;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 600;
        font-size: 0.9em;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        transition: all 0.2s ease;
        color: #2c3e50;
      }

      .language-toggle:hover,
      .dark-mode-toggle:hover {
        background: white;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
      }

      body.dark-mode .language-toggle,
      body.dark-mode .dark-mode-toggle {
        background: rgba(45, 49, 57, 0.95);
        color: #e8edf5;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
      }

      body.dark-mode .language-toggle:hover,
      body.dark-mode .dark-mode-toggle:hover {
        background: #3d4451;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
      }

      .content {
        display: flex;
        min-height: 600px;
      }

      .sidebar {
        width: 280px;
        background: var(--bg-secondary);
        border-left: 1px solid var(--border-color);
        overflow-y: auto;
        padding: 15px 0;
        transition: background-color 0.3s ease, border-color 0.3s ease;
      }

      .sidebar-item {
        padding: 12px 20px;
        cursor: pointer;
        border-left: 3px solid transparent;
        transition: all 0.2s ease;
        font-size: 0.9em;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        color: var(--text-tertiary);
      }

      .sidebar-item:hover {
        background: var(--bg-tertiary);
        border-left-color: var(--accent-color);
      }

      .sidebar-item.active {
        background: rgba(94, 114, 228, 0.1);
        color: var(--accent-color);
        border-left-color: var(--accent-color);
        font-weight: 600;
      }

      .main-content {
        flex: 1;
        padding: 40px;
        overflow-y: auto;
        background: var(--bg-primary);
        transition: background-color 0.3s ease;
      }

      .flowchart-container {
        display: none;
        animation: fadeIn 0.5s ease-in;
      }

      .flowchart-container.active {
        display: block;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .flowchart-title {
        font-size: 1.7em;
        color: var(--text-primary);
        margin-bottom: 8px;
        padding-bottom: 12px;
        border-bottom: 2px solid var(--accent-color);
        font-weight: 700;
      }

      .flowchart-description {
        color: var(--text-secondary);
        margin-bottom: 25px;
        font-size: 0.9em;
        line-height: 1.5;
      }

      .mermaid {
        background: var(--bg-secondary);
        padding: 25px;
        border-radius: 8px;
        border: 1px solid var(--border-color);
        overflow-x: auto;
        transition: background-color 0.3s ease, border-color 0.3s ease;
      }

      .controls {
        display: flex;
        gap: 10px;
        margin-top: 20px;
        justify-content: space-between;
        flex-wrap: wrap;
      }

      button {
        padding: 9px 18px;
        background: var(--accent-color);
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.2s ease;
        font-size: 0.9em;
        font-weight: 500;
      }

      button:hover {
        background: var(--accent-dark);
        box-shadow: 0 2px 6px rgba(94, 114, 228, 0.3);
      }

      button:active {
        transform: scale(0.98);
      }

      body.dark-mode button:hover {
        box-shadow: 0 2px 6px rgba(123, 143, 245, 0.4);
      }

      .search-box {
        padding: 15px 20px;
        border-bottom: 1px solid var(--border-color);
        background: var(--bg-primary);
        transition: background-color 0.3s ease, border-color 0.3s ease;
      }

      .search-box input {
        width: 100%;
        padding: 10px 14px;
        border: 1px solid var(--border-color);
        border-radius: 6px;
        font-size: 0.9em;
        transition: all 0.2s ease;
        background: var(--bg-primary);
        color: var(--text-primary);
      }

      .search-box input::placeholder {
        color: var(--text-secondary);
      }

      .search-box input:focus {
        outline: none;
        border-color: var(--accent-color);
        box-shadow: 0 0 0 3px rgba(94, 114, 228, 0.1);
      }

      body.dark-mode .search-box input:focus {
        box-shadow: 0 0 0 3px rgba(123, 143, 245, 0.2);
      }

      /* Dark mode adjustments for legend colors */
      body.dark-mode .legend-color {
        border: 1px solid rgba(200, 200, 200, 0.3);
      }

      .tabs {
        display: flex;
        gap: 5px;
        margin-bottom: 20px;
        border-bottom: 1px solid var(--border-color);
        padding: 0 20px;
        padding-bottom: 0;
        transition: border-color 0.3s ease;
      }

      .tab-button {
        padding: 10px 20px;
        background: transparent;
        border: none;
        border-bottom: 3px solid transparent;
        cursor: pointer;
        transition: all 0.2s ease;
        font-weight: 600;
        color: var(--text-secondary);
        font-size: 0.95em;
        height: 60px;
      }

      .tab-button:hover {
        color: var(--accent-color);
        background-color: #7964e43b;
        border-bottom-color: var(--border-color);
      }

      .tab-button.active {
        color: var(--accent-color);
        background-color: #7964e43b;

        border-bottom-color: var(--accent-color);
      }

      /* Dark mode tab button styling */
      body.dark-mode .tab-button {
        color: var(--text-secondary);
      }

      body.dark-mode .tab-button:hover {
        color: #7b8ff5;
        border-bottom-color: #7b8ff5;
      }

      body.dark-mode .tab-button.active {
        color: #7b8ff5;
        border-bottom-color: #7b8ff5;
      }

      .stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-bottom: 20px;
      }

      .stat-card {
        background: var(--bg-secondary);
        padding: 20px;
        border-radius: 8px;
        text-align: center;
        border: 1px solid var(--border-color);
        transition: all 0.2s ease;
      }

      .stat-card:hover {
        border-color: var(--accent-color);
        background: rgba(94, 114, 228, 0.05);
      }

      .stat-number {
        font-size: 2.2em;
        color: var(--accent-color);
        font-weight: 700;
      }

      .stat-label {
        color: var(--text-secondary);
        font-size: 0.85em;
        margin-top: 8px;
        font-weight: 500;
      }

      .footer {
        background: var(--bg-secondary);
        padding: 20px;
        text-align: center;
        border-top: 1px solid var(--border-color);
        color: var(--text-secondary);
        font-size: 0.85em;
        transition: background-color 0.3s ease, border-color 0.3s ease;
      }

      .legend {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 15px;
        padding: 20px;
        background: var(--bg-secondary);
        border-radius: 8px;
        margin-bottom: 25px;
        border: 1px solid var(--border-color);
        transition: background-color 0.3s ease, border-color 0.3s ease;
      }

      .legend-item {
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 0.9em;
        color: var(--text-tertiary);
      }

      .legend-color {
        width: 18px;
        height: 18px;
        border-radius: 4px;
        flex-shrink: 0;
      }

      @media (max-width: 768px) {
        .content {
          flex-direction: column;
        }

        .sidebar {
          width: 100%;
          max-height: 300px;
          border-left: none;
          border-bottom: 1px solid #ddd;
          display: flex;
          overflow-x: auto;
        }

        .main-content {
          padding: 20px;
        }

        .header h1 {
          font-size: 1.8em;
        }

        .tabs {
          flex-wrap: wrap;
        }
      }

      .hidden {
        display: none;
      }

      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }

      ::-webkit-scrollbar-track {
        background: var(--bg-secondary);
      }

      ::-webkit-scrollbar-thumb {
        background: var(--border-color);
        border-radius: 4px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: var(--accent-color);
      }
    </style>
  </head>
  <body>
    <div class="toggle-buttons">
      <button
        class="dark-mode-toggle"
        onclick="toggleDarkMode()"
        title="Toggle Dark Mode"
      >
        ğŸŒ™
      </button>
      <button class="language-toggle" onclick="toggleLanguage()">
        English | Ø¹Ø±Ø¨ÙŠ
      </button>
    </div>

    <div class="container">
      <div class="header">
        <h1 id="title">Ù…Ù†ØµØ© Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ© - Ù„ÙˆØ­Ø© Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„</h1>
        <p id="subtitle">18 Ø±Ø³Ù… Ø¨ÙŠØ§Ù†ÙŠ ØªÙØ§Ø¹Ù„ÙŠ Ù„Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</p>
      </div>

      <div class="tabs">
        <button
          class="tab-button active"
          onclick="switchTab('all')"
          id="tab-all"
        >
          Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©
        </button>
        <button
          class="tab-button"
          onclick="switchTab('overview')"
          id="tab-overview"
        >
          Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©
        </button>
        <button
          class="tab-button"
          onclick="switchTab('regular')"
          id="tab-regular"
        >
          Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©
        </button>
        <button
          class="tab-button"
          onclick="switchTab('special')"
          id="tab-special"
        >
          Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª Ø§Ù„Ø®Ø§ØµØ©
        </button>
        <button
          class="tab-button"
          onclick="switchTab('processes')"
          id="tab-processes"
        >
          Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª
        </button>
      </div>

      <div class="content">
        <div class="sidebar">
          <div class="search-box">
            <input
              type="text"
              id="searchInput"
              placeholder="Ø§Ù„Ø¨Ø­Ø«..."
              onkeyup="filterDiagrams()"
            />
          </div>
          <div id="diagramList"></div>
        </div>

        <div class="main-content">
          <div class="stats">
            <div class="stat-card">
              <div class="stat-number">18</div>
              <div class="stat-label" id="label-diagrams">Ø±Ø³Ù… Ø¨ÙŠØ§Ù†ÙŠ</div>
            </div>
            <div class="stat-card">
              <div class="stat-number">4</div>
              <div class="stat-label" id="label-categories">ÙØ¦Ø§Øª</div>
            </div>
            <div class="stat-card">
              <div class="stat-number">100%</div>
              <div class="stat-label" id="label-coverage">ØªØºØ·ÙŠØ©</div>
            </div>
          </div>

          <div class="legend">
            <div class="legend-item">
              <div class="legend-color" style="background: #e1f5ff"></div>
              <span id="legend-start">Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©/Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„</span>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background: #fff3e0"></div>
              <span id="legend-decision">Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚Ø±Ø§Ø±</span>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background: #c8e6c9"></div>
              <span id="legend-success">Ø§Ù„Ù†Ø¬Ø§Ø­/Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©</span>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background: #ffcdd2"></div>
              <span id="legend-reject">Ø§Ù„Ø±ÙØ¶/Ø§Ù„ØªÙˆÙ‚Ù</span>
            </div>
          </div>

          <div id="flowcharts-container"></div>
        </div>
      </div>

      <div class="footer" id="footer">
        Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Â© 2024 Ù…Ù†ØµØ© Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ©
      </div>
    </div>

    <script>
      let currentLanguage = "ar";
      let currentTab = "overview";
      let darkMode = localStorage.getItem("darkMode") === "true";

      // Initialize dark mode on page load
      function initDarkMode() {
        if (darkMode) {
          document.body.classList.add("dark-mode");
          updateDarkModeButton();
        }
      }

      function toggleDarkMode() {
        darkMode = !darkMode;
        localStorage.setItem("darkMode", darkMode);
        document.body.classList.toggle("dark-mode");
        updateDarkModeButton();
      }

      function updateDarkModeButton() {
        const btn = document.querySelector(".dark-mode-toggle");
        if (btn) {
          btn.textContent = darkMode ? "â˜€ï¸" : "ğŸŒ™";
          btn.title = darkMode ? "Toggle Light Mode" : "Toggle Dark Mode";
        }
      }

      const diagrams = [
        {
          id: "diagram1",
          nameAr: "1. Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ",
          nameEn: "1. Main Workflow Overview",
          descAr: "Ù‚Ø±Ø§Ø± Ø£Ø³Ø§Ø³ÙŠ: Ù‡Ù„ Ù‡ÙŠ Ø­Ø§Ù„Ø© Ø·Ø§Ø±Ø¦Ø© Ø£Ù… Ø¹Ø§Ø¯ÙŠØ©ØŸ",
          descEn: "Basic decision: Emergency or Regular case?",
          category: "overview",
          code: `flowchart TD
    START([ğŸ¥ Ø§Ù„Ù…Ø±ÙŠØ¶ ÙÙŠ Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰]) --> EVAL["ğŸ‘¨â€âš•ï¸ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø·Ø¨ÙŠØ¨<br/>Ø§Ù„Ù…Ø±ÙŠØ¶ ÙŠØ­ØªØ§Ø¬ ØªØ­ÙˆÙŠÙ„"]
    EVAL --> EMERGENCY{Ù‡Ù„ Ù‡ÙŠ Ø­Ø§Ù„Ø©<br/>Ø·Ø§Ø±Ø¦Ø©ØŸ}
    EMERGENCY -->|Ù†Ø¹Ù…| FAST["ğŸš‘ ØªØ­ÙˆÙŠÙ„ Ø·Ø§Ø±Ø¦ Ø³Ø±ÙŠØ¹<br/>1-2 Ø³Ø§Ø¹Ø©"]
    EMERGENCY -->|Ù„Ø§| REGULAR["ğŸ“‹ ØªØ­ÙˆÙŠÙ„ Ø¹Ø§Ø¯ÙŠ<br/>10-14 ÙŠÙˆÙ…"]
    style START fill:#e1f5ff
    style EMERGENCY fill:#fff3e0
    style FAST fill:#ffebee
    style REGULAR fill:#f3e5f5`,
        },
        {
          id: "diagram2",
          nameAr: "2. Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¹Ø§Ø¯ÙŠ Ø§Ù„ÙƒØ§Ù…Ù„Ø©",
          nameEn: "2. Complete Regular Referral Process",
          descAr: "Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ù…Ù† Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©",
          descEn: "Complete process from creation to approval",
          category: "regular",
          code: `flowchart TD
    START([ğŸ‘¨â€âš•ï¸ Ø§Ù„Ø·Ø¨ÙŠØ¨ ÙŠÙ†Ø´Ø¦ Ø·Ù„Ø¨ Ø§Ù„ØªØ­ÙˆÙŠÙ„]) --> FORM["ğŸ“ Ù…Ù„Ø¡ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬<br/>â€¢ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±ÙŠØ¶<br/>â€¢ Ø§Ù„ØªØ´Ø®ÙŠØµ Ø§Ù„Ø·Ø¨ÙŠ<br/>â€¢ Ø³Ø¨Ø¨ Ø§Ù„ØªØ­ÙˆÙŠÙ„"]
    FORM --> VALIDATE["âœ“ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"]
    VALIDATE --> VAL_CHECK{Ù‡Ù„ Ø§Ù„ØªØ­Ù‚Ù‚<br/>Ù†Ø¬Ø­ØŸ}
    VAL_CHECK -->|Ù„Ø§| STOP1["âŒ ØªÙˆÙ‚Ù"]
    VAL_CHECK -->|Ù†Ø¹Ù…| CHIEF["ğŸ‘¤ Ø±Ø¦ÙŠØ³ Ø§Ù„Ù‚Ø³Ù…"]
    CHIEF --> CHIEF_DEC{Ù‚Ø±Ø§Ø±<br/>Ø§Ù„Ù‚Ø³Ù…ØŸ}
    CHIEF_DEC -->|Ù…ÙˆØ§ÙÙ‚Ø©| DIRECTOR["ğŸ‘¤ Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰"]
    DIRECTOR --> DIR_DEC{Ù‚Ø±Ø§Ø±<br/>Ø§Ù„Ù…Ø¯ÙŠØ±ØŸ}
    DIR_DEC -->|Ù…ÙˆØ§ÙÙ‚Ø©| ACTIVE["âœ… Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù†Ø´Ø·<br/>3 Ø£Ø´Ù‡Ø± ØµÙ„Ø§Ø­ÙŠØ©"]
    ACTIVE --> END([ğŸ¥ Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø¹Ù„Ø§Ø¬])
    style START fill:#e1f5ff
    style ACTIVE fill:#c8e6c9
    style END fill:#c8e6c9
    style STOP1 fill:#ffcdd2`,
        },
        {
          id: "diagram3",
          nameAr: "3. Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø·Ø§Ø±Ø¦ - Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø³Ø±ÙŠØ¹",
          nameEn: "3. Emergency Referral - Fast Track",
          descAr: "Ù…ÙˆØ§ÙÙ‚Ø§Øª Ù…ØªÙˆØ§Ø²ÙŠØ© Ù„Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø·Ø§Ø±Ø¦Ø©",
          descEn: "Parallel approvals for emergency cases",
          category: "processes",
          code: `flowchart TD
    START([ğŸš‘ Ø­Ø§Ù„Ø© Ø·Ø§Ø±Ø¦Ø©]) --> QUICK["âš¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø³Ø±ÙŠØ¹"]
    QUICK --> PARALLEL["âš™ï¸ Ù…ÙˆØ§ÙÙ‚Ø§Øª Ù…ØªÙˆØ§Ø²ÙŠØ©<br/>Ø§Ù„Ø«Ù„Ø§Ø«Ø© Ù…Ø¹Ø§Ù‹"]
    PARALLEL --> CHIEF_E["âœ“ Ø±Ø¦ÙŠØ³ Ø§Ù„Ù‚Ø³Ù…"]
    PARALLEL --> DIR_E["âœ“ Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰"]
    PARALLEL --> OPS_E["âœ“ Ù…Ø¯ÙŠØ± Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª"]
    CHIEF_E --> ALL_OK{Ø§Ù„Ø¬Ù…ÙŠØ¹<br/>ÙŠÙˆØ§ÙÙ‚ÙˆÙ†ØŸ}
    DIR_E --> ALL_OK
    OPS_E --> ALL_OK
    ALL_OK -->|Ø£ÙŠ Ø±ÙØ¶| REJECT["âŒ Ù…Ø±ÙÙˆØ¶"]
    ALL_OK -->|Ø§Ù„Ø¬Ù…ÙŠØ¹| COORD["ğŸ”— ØªÙ†Ø³ÙŠÙ‚ ÙÙˆØ±ÙŠ"]
    COORD --> TREATMENT["ğŸ¥ Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ù„Ø§Ø¬"]
    style START fill:#ffebee
    style PARALLEL fill:#fff3e0
    style TREATMENT fill:#c8e6c9
    style REJECT fill:#ffcdd2`,
        },
        {
          id: "diagram4",
          nameAr: "4. Ø¹Ù…Ù„ÙŠØ© Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù„Ø¬Ù†Ø©",
          nameEn: "4. Committee Review Process",
          descAr: "Ø§Ù„ØªØ­Ù‚Ù‚ ÙˆØ§Ù„ØªØµÙˆÙŠØª Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù„Ø¬Ù†Ø©",
          descEn: "Verification and voting by committee",
          category: "processes",
          code: `flowchart TD
    INPUT([âœ‰ï¸ Ø§Ù„Ø·Ù„Ø¨ ÙŠØµÙ„<br/>Ù„Ù„Ø¬Ù†Ø©]) --> CHECK["âœ“ ÙØ­Øµ Ø§Ù„Ø§ÙƒØªÙ…Ø§Ù„"]
    CHECK --> COMPLETE{Ù‡Ù„<br/>ÙƒØ§Ù…Ù„ØŸ}
    COMPLETE -->|Ù„Ø§| REQUEST["ğŸ“§ Ø·Ù„Ø¨ Ù…Ø³ØªÙ†Ø¯Ø§Øª"]
    REQUEST --> UPLOAD["ğŸ“¤ ØªØ±ÙØ¹ Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª"]
    UPLOAD --> CHECK
    COMPLETE -->|Ù†Ø¹Ù…| VOTE["ğŸ—³ï¸ ØªØµÙˆÙŠØª Ø§Ù„Ù„Ø¬Ù†Ø©<br/>50% + 1 Ù…Ø·Ù„ÙˆØ¨"]
    VOTE --> OUTCOME{Ù†ØªÙŠØ¬Ø©<br/>Ø§Ù„ØªØµÙˆÙŠØªØŸ}
    OUTCOME -->|Ù…ÙˆØ§ÙÙ‚Ø©| APPROVED["âœ… Ù…ÙˆØ§ÙÙ‚ Ø¹Ù„ÙŠÙ‡"]
    OUTCOME -->|Ø±ÙØ¶| REJECTED["âŒ Ù…Ø±ÙÙˆØ¶"]
    OUTCOME -->|Ù†Ø§Ù‚Øµ| INCOMPLETE["âš ï¸ ÙŠØ­ØªØ§Ø¬ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª"]
    INCOMPLETE --> REQUEST
    style INPUT fill:#e3f2fd
    style APPROVED fill:#c8e6c9
    style REJECTED fill:#ffcdd2`,
        },
        {
          id: "diagram5",
          nameAr: "5. Ø¯Ø§Ø¦Ø±Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª - Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©",
          nameEn: "5. Operations Department - Final Review",
          descAr: "Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© ÙˆØ§Ù„Ù…ÙˆØ§ÙÙ‚Ø©",
          descEn: "Final review and approval",
          category: "processes",
          code: `flowchart TD
    INPUT([ğŸ“¥ Ù…Ù† Ø§Ù„Ù„Ø¬Ù†Ø©]) --> MED_REV["ğŸ‘¥ Ù„Ø¬Ù†Ø© Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©<br/>Ø§Ù„Ø·Ø¨ÙŠØ©"]
    MED_REV --> MED_CHECK{Ù…Ø±Ø§Ø¬Ø¹Ø©<br/>ØµØ­ÙŠØ­Ø©ØŸ}
    MED_CHECK -->|Ù…Ø´Ø§ÙƒÙ„| REJECT1["âŒ Ø±ÙØ¶"]
    MED_CHECK -->|Ø­Ø³Ù†Ø§Ù‹| DIR_REV["ğŸ‘¤ Ù…Ø¯ÙŠØ±<br/>Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª"]
    DIR_REV --> DIR_SIGN["âœï¸ Ø§Ù„ØªÙˆÙ‚ÙŠØ¹<br/>Ø§Ù„Ø±Ù‚Ù…ÙŠ"]
    DIR_SIGN --> UNIT_DIR["ğŸ‘¤ Ù…Ø¯ÙŠØ± Ø§Ù„ÙˆØ­Ø¯Ø©<br/>Ù…ÙˆØ§ÙÙ‚Ø© Ù†Ù‡Ø§Ø¦ÙŠØ©"]
    UNIT_DIR --> ACTIVE["âœ… Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù†Ø´Ø·<br/>3 Ø£Ø´Ù‡Ø± ØµÙ„Ø§Ø­ÙŠØ©"]
    ACTIVE --> SEND["ğŸ“¤ Ø§Ø±Ø³Ù„ Ù„Ù„Ù…Ø³ØªØ´ÙÙ‰"]
    SEND --> END([âœ… Ù…Ø¹Ø§Ù„Ø¬Ø©])
    style INPUT fill:#e0f2f1
    style ACTIVE fill:#c8e6c9
    style END fill:#c8e6c9
    style REJECT1 fill:#ffcdd2`,
        },
        {
          id: "diagram6",
          nameAr: "6. Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„Ø© ØªØ¹Ø§Ù„Ø¬ Ø§Ù„ØªØ­ÙˆÙŠÙ„",
          nameEn: "6. Receiving Hospital Processes Referral",
          descAr: "Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ù…Ø±ÙŠØ¶ ÙˆØ§Ù„Ø¹Ù„Ø§Ø¬",
          descEn: "Patient acceptance and treatment",
          category: "processes",
          code: `flowchart TD
    START([ğŸ“¥ Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ ØªØ³ØªÙ‚Ø¨Ù„]) --> REVIEW["ğŸ¥ Ù‡Ù„ ØªØ³ØªØ·ÙŠØ¹<br/>ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ø®Ø¯Ù…Ø©ØŸ"]
    REVIEW --> DECISION{Ù‚Ø±Ø§Ø±<br/>Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ØŸ}
    DECISION -->|Ù„Ø§| REJECT["âŒ Ø±ÙØ¶"]
    DECISION -->|Ù†Ø¹Ù…| ACCEPT["âœ… Ù‚Ø¨ÙˆÙ„"]
    REJECT --> AUTO["ğŸ”„ Ø¯Ø§Ø¦Ø±Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª<br/>ØªØºÙŠØ± Ø§Ù„ÙˆØ¬Ù‡Ø©"]
    AUTO --> ALT["ğŸ¥ Ù…Ø³ØªØ´ÙÙ‰ Ø¨Ø¯ÙŠÙ„Ø©"]
    ACCEPT --> CONTACT["ğŸ“ Ø§ØªØµÙ„ Ø¨Ø§Ù„Ù…Ø±ÙŠØ¶<br/>48 Ø³Ø§Ø¹Ø©"]
    CONTACT --> ARRIVE["ğŸ‘¤ Ø§Ù„Ù…Ø±ÙŠØ¶ ÙŠØµÙ„"]
    ARRIVE --> ACTIVE["âœ… Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù†Ø´Ø·"]
    ACTIVE --> UPDATES["ğŸ“ ØªØ­Ø¯ÙŠØ«Ø§Øª ÙŠÙˆÙ…ÙŠØ©"]
    UPDATES --> DISCHARGE["ğŸšª Ø®Ø±ÙˆØ¬ Ø§Ù„Ù…Ø±ÙŠØ¶"]
    style ACCEPT fill:#c8e6c9
    style ACTIVE fill:#c8e6c9
    style DISCHARGE fill:#c8e6c9
    style REJECT fill:#ffcdd2`,
        },
        {
          id: "diagram7",
          nameAr: "7. Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ù…Ø§Ù„ÙŠ ÙˆØ§Ù„Ø¯ÙØ¹",
          nameEn: "7. Financial Verification & Payment",
          descAr: "Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ© ÙˆØ§Ù„Ø¯ÙØ¹",
          descEn: "Financial review and payment",
          category: "processes",
          code: `flowchart TD
    INPUT([ğŸ ØªÙ… Ø§Ù„Ø¹Ù„Ø§Ø¬]) --> CONTRACT["ğŸ‘¥ Ø¯Ø§Ø¦Ø±Ø© Ø§Ù„Ø¹Ù‚ÙˆØ¯<br/>Ù…Ø±Ø§Ø¬Ø¹Ø© ØªÙ‚Ù†ÙŠØ©"]
    CONTRACT --> CONTRACT_CHK{Ù…Ø±Ø§Ø¬Ø¹Ø©<br/>ØªÙ‚Ù†ÙŠØ©ØŸ}
    CONTRACT_CHK -->|Ù…Ø´Ø§ÙƒÙ„| CONTRACT_REJ["âŒ Ø±ÙØ¶"]
    CONTRACT_REJ --> REVISE1["ğŸ”„ ØªØ¹Ø¯ÙŠÙ„"]
    REVISE1 --> CONTRACT
    CONTRACT_CHK -->|Ø­Ø³Ù†Ø§Ù‹| FIN_STAFF["ğŸ‘¤ ÙØ±ÙŠÙ‚ Ø§Ù„Ù…Ø§Ù„ÙŠØ©<br/>Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ÙØ§ØªÙˆØ±Ø©"]
    FIN_STAFF --> FIN_CHK{ÙØ­Øµ<br/>Ù…Ø§Ù„ÙŠØŸ}
    FIN_CHK -->|Ù…Ø´Ø§ÙƒÙ„| FIN_REJ["âŒ Ø±ÙØ¶"]
    FIN_REJ --> REVISE2["ğŸ”„ ØªØ¹Ø¯ÙŠÙ„"]
    REVISE2 --> FIN_STAFF
    FIN_CHK -->|Ø­Ø³Ù†Ø§Ù‹| PAYMENT["ğŸ’³ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¯ÙØ¹"]
    PAYMENT --> END([âœ… Ø§Ù„Ø­Ø§Ù„Ø© Ù…ØºÙ„Ù‚Ø©])
    style PAYMENT fill:#c8e6c9
    style END fill:#c8e6c9
    style CONTRACT_REJ fill:#ffcdd2
    style FIN_REJ fill:#ffcdd2`,
        },
        {
          id: "diagram8",
          nameAr: "8. ØªØºÙŠÙŠØ± ÙˆØ¬Ù‡Ø© Ø§Ù„ØªØ­ÙˆÙŠÙ„",
          nameEn: "8. Change Referral Destination",
          descAr: "ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ù…Ù‚Ø±Ø±Ø©",
          descEn: "Changing the assigned hospital",
          category: "regular",
          code: `flowchart TD
    START{Ø³Ø¨Ø¨<br/>Ø§Ù„ØªØºÙŠÙŠØ±ØŸ}
    START -->|Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ ØªØ±ÙØ¶| A["Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ ØªØ®ØªØ§Ø±<br/>Ø±ÙØ¶ Ø§Ù„ØªØ­ÙˆÙŠÙ„"]
    START -->|Ø·Ù„Ø¨ Ø§Ù„Ù…Ø±ÙŠØ¶| B["Ø§Ù„Ù…Ø±ÙŠØ¶ ÙŠØ·Ù„Ø¨<br/>Ù…Ø¹ Ø³Ø¨Ø¨"]
    A --> AUTO["ğŸ”„ Ø¯Ø§Ø¦Ø±Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª<br/>ØªØºÙŠØ± Ø§Ù„ÙˆØ¬Ù‡Ø©"]
    AUTO --> NEW_A["ğŸ“¤ Ø§Ø±Ø³Ù„ Ù„Ù…Ø³ØªØ´ÙÙ‰<br/>Ø¬Ø¯ÙŠØ¯Ø©"]
    B --> OPS_REV["ğŸ” Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª<br/>ØªØ±Ø§Ø¬Ø¹"]
    OPS_REV --> APPROVE{ØªÙˆØ§ÙÙ‚ØŸ}
    APPROVE -->|Ù„Ø§| DENY["âŒ Ø±ÙØ¶"]
    APPROVE -->|Ù†Ø¹Ù…| NEW_B["ğŸ“¤ Ø§Ø±Ø³Ù„ Ù„Ù…Ø³ØªØ´ÙÙ‰<br/>Ø¬Ø¯ÙŠØ¯Ø©"]
    NEW_A --> END_A([Ù…Ø¹Ø§Ù„Ø¬Ø©])
    NEW_B --> END_B([Ù…Ø¹Ø§Ù„Ø¬Ø©])
    DENY --> END_C([Ø§Ø­ØªÙØ¸ Ø¨Ø§Ù„Ù…Ø³Ø§Ø±])
    style APPROVE fill:#fff3e0
    style NEW_A fill:#c8e6c9
    style NEW_B fill:#c8e6c9
    style END_A fill:#c8e6c9
    style END_B fill:#c8e6c9
    style DENY fill:#ffcdd2`,
        },
        {
          id: "diagram9",
          nameAr: "9. ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ­ÙˆÙŠÙ„ - Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø§Ù„Ø¹Ù„Ø§Ø¬",
          nameEn: "9. Extend Referral - Treatment Continuation",
          descAr: "ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„Ø¹Ù„Ø§Ø¬ Ø§Ù„Ù…Ø³ØªÙ…Ø±",
          descEn: "Extending ongoing treatment",
          category: "regular",
          code: `flowchart TD
    START([Ø§Ù„Ù…Ø±ÙŠØ¶ ÙŠØ­ØªØ§Ø¬<br/>Ø¹Ù„Ø§Ø¬ Ø£ÙƒØ«Ø±]) --> REQUEST["ğŸ¥ ØªØ·Ù„Ø¨ ØªÙ…Ø¯ÙŠØ¯<br/>Ù…Ø¹ ØªÙ‚Ø±ÙŠØ± Ø·Ø¨ÙŠ"]
    REQUEST --> OPS_CHECK["ğŸ” Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª<br/>ØªÙØ­Øµ"]
    OPS_CHECK --> DECISION{Ù‚Ø±Ø§Ø±<br/>Ø§Ù„Ø¹Ù…Ù„ÙŠØ§ØªØŸ}
    DECISION -->|Ù…Ø±ÙÙˆØ¶| REJECT["âŒ Ù…Ø±ÙÙˆØ¶"]
    DECISION -->|Ù…ÙˆØ§ÙÙ‚Ø©| EXTEND["âœ… ØªÙ…Ø¯ÙŠØ¯ Ù…ÙˆØ§ÙÙ‚"]
    EXTEND --> ISSUE["ğŸ“¤ Ø§Ø±Ø³Ù„ ØªÙ…Ø¯ÙŠØ¯"]
    ISSUE --> CONTINUE["âœ… Ø§Ù„Ø¹Ù„Ø§Ø¬ ÙŠØ³ØªÙ…Ø±"]
    CONTINUE --> END_OK([Ø§Ø³ØªÙ…Ø±Ø§Ø±])
    REJECT --> SMS_NO["ğŸ“± Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ù…Ø±ÙŠØ¶"]
    SMS_NO --> END_NO([Ø£Ø¹Ø¯ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…])
    style EXTEND fill:#c8e6c9
    style CONTINUE fill:#c8e6c9
    style END_OK fill:#c8e6c9
    style REJECT fill:#ffcdd2`,
        },
        {
          id: "diagram10",
          nameAr: "10. ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„ØªØ­ÙˆÙŠÙ„ - Ø§Ù„Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©",
          nameEn: "10. Renew Referral - Expired Referral",
          descAr: "ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ù†ØªÙ‡ÙŠ",
          descEn: "Renewing expired referral",
          category: "regular",
          code: `flowchart TD
    START([ØªØ­ÙˆÙŠÙ„ Ù…Ù†ØªÙ‡ÙŠ<br/>Ù„Ù… ÙŠØ³ØªØ®Ø¯Ù…]) --> RETURN["ğŸ‘¤ Ø§Ù„Ù…Ø±ÙŠØ¶ ÙŠØ¹ÙˆØ¯"]
    RETURN --> SUBMIT["ğŸ¥ ØªØ±Ø³Ù„ ØªØ¬Ø¯ÙŠØ¯"]
    SUBMIT --> OPS_EVAL["ğŸ” Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª<br/>ØªÙ‚ÙŠÙ…"]
    OPS_EVAL --> DECISION{Ù‚Ø±Ø§Ø±ØŸ}
    DECISION -->|ØªØ¬Ø¯ÙŠØ¯| RENEW["âœ… ØªØ¬Ø¯ÙŠØ¯"]
    DECISION -->|Ø±ÙØ¶| REJ["âŒ Ø±ÙØ¶"]
    DECISION -->|ØªØºÙŠÙŠØ±| CHANGE["ğŸ”„ ØªØºÙŠÙŠØ±"]
    RENEW --> END_OK([Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø§Ù„Ø¹Ù„Ø§Ø¬])
    REJ --> END_NO([Ù„Ø§ ÙŠÙ…ÙƒÙ†])
    CHANGE --> END_CHG([Ù…Ø³ØªØ´ÙÙ‰ Ø¬Ø¯ÙŠØ¯Ø©])
    style DECISION fill:#fff3e0
    style RENEW fill:#c8e6c9
    style END_OK fill:#c8e6c9
    style REJ fill:#ffcdd2
    style END_NO fill:#ffcdd2`,
        },
        {
          id: "diagram11",
          nameAr: "11. ØªØ­ÙˆÙŠÙ„ Ø®Ø§Øµ: Ø§Ù„Ù‚Ø¯Ø³",
          nameEn: "11. Special: Jerusalem Referrals",
          descAr: "ØªØ­ÙˆÙŠÙ„Ø§Øª Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ø¯Ø³",
          descEn: "Jerusalem region referrals",
          category: "special",
          code: `flowchart TD
    START([Ù…Ø¯ÙŠØ±ÙŠØ© ØµØ­Ø©<br/>Ø§Ù„Ù‚Ø¯Ø³]) --> REQUIRE["ğŸ“‹ ÙŠØªØ·Ù„Ø¨:<br/>â€¢ ØªØ£Ù…ÙŠÙ† ÙÙ„Ø³Ø·ÙŠÙ†ÙŠ<br/>â€¢ Ø¥Ø«Ø¨Ø§Øª Ø³ÙƒÙ†<br/>â€¢ ØªÙ‚Ø±ÙŠØ± Ø·Ø¨ÙŠ"]
    REQUIRE --> SUBMIT["ğŸ“¤ Ø§Ø±Ø³Ù„"]
    SUBMIT --> OPS_DIR["ğŸš€ Ù…Ø³Ø§Ø± Ø³Ø±ÙŠØ¹<br/>Ø¨Ø¯ÙˆÙ† Ù„Ø¬Ø§Ù†!"]
    OPS_DIR --> DECISION{Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª<br/>ØªÙˆØ§ÙÙ‚ØŸ}
    DECISION -->|Ù†Ø¹Ù…| APPROVE["âœ… Ù…ÙˆØ§ÙÙ‚"]
    DECISION -->|Ù„Ø§| REJECT["âŒ Ù…Ø±ÙÙˆØ¶"]
    APPROVE --> FASTER["âš¡ Ù…ÙˆØ§ÙÙ‚Ø© Ø£Ø³Ø±Ø¹"]
    FASTER --> END_OK([Ø¹Ù„Ø§Ø¬])
    REJECT --> END_NO([Ø£Ø¹Ø¯ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…])
    style OPS_DIR fill:#fff3e0
    style FASTER fill:#c8e6c9
    style END_OK fill:#c8e6c9
    style REJECT fill:#ffcdd2`,
        },
        {
          id: "diagram12",
          nameAr: "12. ØªØ­ÙˆÙŠÙ„ Ø®Ø§Øµ: Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ© Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠØ©",
          nameEn: "12. Special: Military Medical Services",
          descAr: "ØªØ­ÙˆÙŠÙ„Ø§Øª Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠØ©",
          descEn: "Military medical services referrals",
          category: "special",
          code: `flowchart TD
    START([Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ©<br/>Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠØ©]) --> DOCS["ğŸ“‹ ÙŠØªØ·Ù„Ø¨:<br/>â€¢ ÙƒØªØ§Ø¨ ØªÙÙˆÙŠØ¶<br/>â€¢ Ø¥Ø«Ø¨Ø§Øª Ø¹Ù…Ù„<br/>â€¢ Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ø³ÙƒØ±ÙŠØ©"]
    DOCS --> MIL_COM["âš”ï¸ Ø§Ù„Ù„Ø¬Ù†Ø©<br/>Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠØ©"]
    MIL_COM --> SUBMIT["ğŸ“¤ Ø§Ø±Ø³Ù„"]
    SUBMIT --> OPS_REV["ğŸ” Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª<br/>Ù…Ø±Ø§Ø¬Ø¹Ø©"]
    OPS_REV --> DECISION{Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª<br/>ØªÙˆØ§ÙÙ‚ØŸ}
    DECISION -->|Ù†Ø¹Ù…| APPROVE["âœ… Ù…ÙˆØ§ÙÙ‚"]
    DECISION -->|Ù„Ø§| REJECT["âŒ Ù…Ø±ÙÙˆØ¶"]
    APPROVE --> COORD["ğŸ”— ØªÙ†Ø³ÙŠÙ‚ Ø¹Ø³ÙƒØ±ÙŠ"]
    COORD --> END_OK([Ø¹Ù„Ø§Ø¬])
    REJECT --> END_NO([Ø£Ø¹Ø¯ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…])
    style MIL_COM fill:#f3e5f5
    style APPROVE fill:#c8e6c9
    style END_OK fill:#c8e6c9
    style REJECT fill:#ffcdd2`,
        },
        {
          id: "diagram13",
          nameAr: "13. ØªØ­ÙˆÙŠÙ„ Ø®Ø§Øµ: Ù‚Ø·Ø§Ø¹ ØºØ²Ø©",
          nameEn: "13. Special: Gaza Sector",
          descAr: "ØªØ­ÙˆÙŠÙ„Ø§Øª Ù‚Ø·Ø§Ø¹ ØºØ²Ø©",
          descEn: "Gaza sector referrals",
          category: "special",
          code: `flowchart TD
    START([Ù…Ø³ØªØ´ÙÙ‰ ØºØ²Ø©]) --> FORM["ğŸ“‹ Ù…Ù„Ø¡ Ø§Ø³ØªÙ…Ø§Ø±Ø©"]
    FORM --> GZ_COM["ğŸ›ï¸ Ù„Ø¬Ù†Ø© ØºØ²Ø©<br/>15 Ø¹Ø¶Ùˆ"]
    GZ_COM --> GZ_VOTE{Ù‚Ø±Ø§Ø±<br/>Ø§Ù„Ù„Ø¬Ù†Ø©ØŸ}
    GZ_VOTE -->|Ù…ÙˆØ§ÙÙ‚Ø©| GZ_APP["âœ… Ø§Ù„Ù„Ø¬Ù†Ø©"]
    GZ_VOTE -->|Ø±ÙØ¶| GZ_REJ["âŒ Ø§Ù„Ù„Ø¬Ù†Ø©"]
    GZ_VOTE -->|Ù†Ø§Ù‚Øµ| GZ_INC["âš ï¸ Ù…Ø³ØªÙ†Ø¯Ø§Øª"]
    GZ_APP --> OPS_FINAL["ğŸ” Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª<br/>ÙØ­Øµ Ù†Ù‡Ø§Ø¦ÙŠ"]
    GZ_INC --> DOCS_UP["ğŸ“¤ ØªØ±ÙØ¹"]
    DOCS_UP --> GZ_COM
    OPS_FINAL --> OPS_DEC{Ø§Ù„Ø¹Ù…Ù„ÙŠØ§ØªØŸ}
    OPS_DEC -->|Ù†Ø¹Ù…| FINAL_APP["âœ… Ù…ÙˆØ§ÙÙ‚Ø© Ù†Ù‡Ø§Ø¦ÙŠØ©"]
    OPS_DEC -->|Ù„Ø§| FINAL_REJ["âŒ Ø±ÙØ¶"]
    FINAL_APP --> END_OK([Ø¹Ù„Ø§Ø¬])
    GZ_REJ --> END_NO1([Ø£Ø¹Ø¯])
    FINAL_REJ --> END_NO2([Ø£Ø¹Ø¯])
    style GZ_COM fill:#fff3e0
    style FINAL_APP fill:#c8e6c9
    style END_OK fill:#c8e6c9
    style GZ_REJ fill:#ffcdd2`,
        },
        {
          id: "diagram14",
          nameAr: "14. Ù…Ø³ØªØ´ÙÙŠØ§Øª Ø§Ù„Ø®Ø· Ø§Ù„Ø£Ø®Ø¶Ø± - Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„ÙŠØ©",
          nameEn: "14. Green Line Hospitals - Israeli",
          descAr: "ØªØ­ÙˆÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø³ØªØ´ÙÙŠØ§Øª Ø§Ù„Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„ÙŠØ©",
          descEn: "Israeli hospital referrals",
          category: "special",
          code: `flowchart TD
    START([Ø·Ù„Ø¨ Ù…Ø³ØªØ´ÙÙ‰<br/>Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„ÙŠØ©]) --> VALID{ØµØ­ÙŠØ­ Ø¥Ø°Ø§:<br/>â€¢ Ø·Ø§Ø±Ø¦/Ø­ÙŠØ§Ø©<br/>â€¢ Ø¨Ù„Ø§ Ø¹Ù„Ø§Ø¬<br/>â€¢ Ø§Ø³ØªÙ…Ø±Ø§Ø±}
    VALID -->|Ù„Ø§| REJECT1["âŒ ØºÙŠØ± ØµØ­ÙŠØ­"]
    VALID -->|Ù†Ø¹Ù…| STUDY["ğŸ” Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª<br/>ØªØ¯Ø±Ø³"]
    STUDY --> DECISION{Ù‚Ø±Ø§Ø±ØŸ}
    DECISION -->|Ù„Ø§| REJECT2["âŒ Ù…Ø±ÙÙˆØ¶"]
    DECISION -->|Ù†Ø¹Ù…| APPROVE["âœ… Ù…ÙˆØ§ÙÙ‚"]
    APPROVE --> PRICE["ğŸ’° Ø§Ù„ØªØ³Ø¹ÙŠØ±"]
    PRICE --> ISSUE["ğŸ“¤ Ø§Ø±Ø³Ù„"]
    ISSUE --> END_OK([Ø¹Ù„Ø§Ø¬ Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„ÙŠ])
    REJECT1 --> END_NO1([ØºÙŠØ± Ù…ÙˆØ§ÙÙ‚])
    REJECT2 --> END_NO2([Ù…Ø±ÙÙˆØ¶])
    style VALID fill:#fff3e0
    style APPROVE fill:#c8e6c9
    style END_OK fill:#c8e6c9
    style REJECT1 fill:#ffcdd2
    style REJECT2 fill:#ffcdd2`,
        },
        {
          id: "diagram15",
          nameAr: "15. Ø§Ù„Ø±Ø­Ù„Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø© - Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ù„Ù„Ù†Ù‡Ø§ÙŠØ©",
          nameEn: "15. Complete Journey - Start to Finish",
          descAr: "Ø±Ø­Ù„Ø© Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙƒØ§Ù…Ù„Ø©",
          descEn: "Complete referral journey",
          category: "overview",
          code: `flowchart TD
    A([1ï¸âƒ£ Ø§Ù„Ù…Ø±ÙŠØ¶]) --> B["2ï¸âƒ£ Ø§Ù„Ø·Ø¨ÙŠØ¨"]
    B --> C{3ï¸âƒ£ Ø·Ø§Ø±Ø¦ØŸ}
    C -->|Ù†Ø¹Ù…| D["ğŸš‘ Ø³Ø±ÙŠØ¹<br/>48 Ø³Ø§Ø¹Ø©"]
    C -->|Ù„Ø§| E["ğŸ“‹ Ø¹Ø§Ø¯ÙŠ<br/>10-14 ÙŠÙˆÙ…"]
    D --> F["Ø§Ù„Ù„Ø¬Ù†Ø©"]
    E --> F
    F --> G{Ù…ÙˆØ§ÙÙ‚Ø©ØŸ}
    G -->|Ù„Ø§| H["âŒ Ù…Ø±ÙÙˆØ¶"]
    G -->|Ù†Ø¹Ù…| I["Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª"]
    I --> J{Ù†Ù‡Ø§Ø¦ÙŠØŸ}
    J -->|Ù„Ø§| K["âŒ Ù…Ø±ÙÙˆØ¶"]
    J -->|Ù†Ø¹Ù…| L["âœ… Ù†Ø´Ø·"]
    L --> M["Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰"]
    M --> N["ğŸ‘¤ Ø§Ù„Ù…Ø±ÙŠØ¶"]
    N --> O["Ø¹Ù„Ø§Ø¬"]
    O --> P["Ù…Ø±Ø§Ù‚Ø¨Ø©"]
    P --> Q["Ø®Ø±ÙˆØ¬"]
    Q --> R["Ù…Ø§Ù„ÙŠØ©"]
    R --> S([âœ… Ù†Ù‡Ø§ÙŠØ©])
    style A fill:#e1f5ff
    style D fill:#ffebee
    style E fill:#f3e5f5
    style L fill:#c8e6c9
    style S fill:#c8e6c9
    style H fill:#ffcdd2
    style K fill:#ffcdd2`,
        },
        {
          id: "diagram16",
          nameAr: "16. Ø®Ø· Ø²Ù…Ù†ÙŠ Ù„Ù„Ø­Ø§Ù„Ø§Øª",
          nameEn: "16. Case Timeline",
          descAr: "ØªØ·ÙˆØ± Ø­Ø§Ù„Ø§Øª Ø§Ù„ØªØ­ÙˆÙŠÙ„",
          descEn: "Case progression timeline",
          category: "overview",
          code: `flowchart LR
    S1["Ù…Ø³ÙˆØ¯Ø©"] --> S2["Ù…Ø±ÙÙˆØ¹"]
    S2 --> S3["Ø±Ø¦ÙŠØ³ Ø§Ù„Ù‚Ø³Ù…"]
    S3 --> S4["Ù…Ø¯ÙŠØ±"]
    S4 --> S5["Ù„Ø¬Ù†Ø©"]
    S5 --> S6{Ù‚Ø±Ø§Ø±ØŸ}
    S6 -->|Ù†Ø§Ù‚Øµ| S5_INC["âš ï¸ Ù…Ø³ØªÙ†Ø¯Ø§Øª"]
    S5_INC --> S5
    S6 -->|Ù…Ø±ÙÙˆØ¶| S7R["âŒ Ù…Ø±ÙÙˆØ¶"]
    S6 -->|Ù…ÙˆØ§ÙÙ‚Ø©| S7["Ø¹Ù…Ù„ÙŠØ§Øª"]
    S7 --> S8["âœ… Ù†Ø´Ø·"]
    S8 --> S9["Ù…Ø³ØªØ´ÙÙ‰"]
    S9 --> S10["Ø¹Ù„Ø§Ø¬"]
    S10 --> S11["Ø®Ø±ÙˆØ¬"]
    S11 --> S12["Ù…Ø§Ù„ÙŠØ©"]
    S12 --> S13["âœ… Ø¯ÙØ¹"]
    style S1 fill:#e1f5ff
    style S8 fill:#c8e6c9
    style S13 fill:#a5d6a7
    style S7R fill:#ffcdd2`,
        },
        {
          id: "diagram17",
          nameAr: "17. Ø§Ù„Ù…Ù…Ø«Ù„ÙˆÙ† ÙˆØ§Ù„Ø£Ø¯ÙˆØ§Ø±",
          nameEn: "17. Actors & Roles",
          descAr: "Ù…Ù† ÙŠÙ‚ÙˆÙ… Ø¨Ù…Ø§Ø°Ø§ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…",
          descEn: "Who does what in the system",
          category: "overview",
          code: `graph TB
    SYS["ğŸ–¥ï¸ Ø§Ù„Ù†Ø¸Ø§Ù…<br/>Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ"]
    SYS --> INPUT["ğŸ“¥ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„"]
    SYS --> DECISION["âš–ï¸ Ø§Ù„Ù‚Ø±Ø§Ø±"]
    SYS --> OUTPUT["ğŸ“¤ Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬"]
    SYS --> SUPPORT["ğŸ› ï¸ Ø§Ù„Ø¯Ø¹Ù…"]

    INPUT --> DOC["ğŸ‘¨â€âš•ï¸ Ø£Ø·Ø¨Ø§Ø¡"]
    INPUT --> CHIEF["ğŸ‘” Ø±Ø¤Ø³Ø§Ø¡ Ø£Ù‚Ø³Ø§Ù…"]
    INPUT --> DIR["ğŸ‘” Ù…Ø¯ÙŠØ±Ùˆ Ù…Ø³ØªØ´ÙÙŠØ§Øª"]

    DECISION --> REG["ğŸ›ï¸ Ø¥Ù‚Ù„ÙŠÙ…ÙŠØ©"]
    DECISION --> SPEC["ğŸ›ï¸ ØªØ®ØµØµÙŠØ©"]
    DECISION --> EXC["ğŸ›ï¸ Ø§Ø³ØªØ«Ù†Ø§Ø¡Ø§Øª"]
    DECISION --> OPS["ğŸ¢ Ø¹Ù…Ù„ÙŠØ§Øª"]

    OUTPUT --> REC["ğŸ¥ Ù…Ø³ØªØ´ÙÙŠØ§Øª"]
    OUTPUT --> PAT["ğŸ‘¤ Ù…Ø±Ø¶Ù‰"]

    SUPPORT --> CONTRACT["ğŸ“‹ Ø¹Ù‚ÙˆØ¯"]
    SUPPORT --> FIN["ğŸ’° Ù…Ø§Ù„ÙŠØ©"]
    SUPPORT --> MONITOR["ğŸ‘ï¸ Ù…Ø±Ø§Ù‚Ø¨Ø©"]

    style SYS fill:#bbdefb
    style INPUT fill:#e1f5ff
    style DECISION fill:#fff3e0
    style OUTPUT fill:#c8e6c9
    style SUPPORT fill:#f3e5f5`,
        },
        {
          id: "diagram18",
          nameAr: "18. Ù…ØµÙÙˆÙØ© Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª",
          nameEn: "18. Decision Matrix",
          descAr: "Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø©",
          descEn: "All possible outcomes",
          category: "overview",
          code: `flowchart TD
    START([Ø§Ù„ØªØ­ÙˆÙŠÙ„<br/>Ù…Ø±ÙÙˆØ¹]) --> ROUTE{Ø£ÙŠ<br/>Ù„Ø¬Ù†Ø©ØŸ}
    ROUTE -->|Ø¥Ù‚Ù„ÙŠÙ…ÙŠØ©| COM["Ø§Ù„Ù„Ø¬Ù†Ø©"]
    ROUTE -->|ØªØ®ØµØµÙŠØ©| COM
    ROUTE -->|Ø§Ø³ØªØ«Ù†Ø§Ø¡Ø§Øª| COM
    COM --> VOTE["ØªØµÙˆÙŠØª"]
    VOTE --> OUTCOME1{Ø§Ù„Ù†ØªÙŠØ¬Ø©ØŸ}
    OUTCOME1 -->|Ù…ÙˆØ§ÙÙ‚Ø©| APP["âœ… Ù…ÙˆØ§ÙÙ‚"]
    OUTCOME1 -->|Ø±ÙØ¶| REJ1["âŒ Ù…Ø±ÙÙˆØ¶"]
    OUTCOME1 -->|Ù†Ø§Ù‚Øµ| INC["âš ï¸ Ù†Ø§Ù‚Øµ"]
    APP --> OPS["Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª"]
    INC --> DOCS["ğŸ“¤ Ù…Ø³ØªÙ†Ø¯Ø§Øª"]
    DOCS --> VOTE
    OPS --> OPS_OUT{Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª<br/>ØªÙˆØ§ÙÙ‚ØŸ}
    OPS_OUT -->|Ù†Ø¹Ù…| FINAL_OK["âœ… Ù…ÙˆØ§ÙÙ‚Ø© Ù†Ù‡Ø§Ø¦ÙŠØ©"]
    OPS_OUT -->|Ù„Ø§| REJ2["âŒ Ù…Ø±ÙÙˆØ¶"]
    FINAL_OK --> HOSP["ğŸ¥ Ø§Ø±Ø³Ù„"]
    HOSP --> END_OK([âœ… Ø§Ø³ØªÙ…Ø±Ø§Ø±])
    REJ1 --> END_FAIL1([âŒ ØªÙˆÙ‚Ù])
    REJ2 --> END_FAIL2([âŒ ØªÙˆÙ‚Ù])
    style START fill:#e1f5ff
    style OUTCOME1 fill:#fff3e0
    style FINAL_OK fill:#c8e6c9
    style END_OK fill:#a5d6a7
    style REJ1 fill:#ffcdd2
    style REJ2 fill:#ffcdd2`,
        },
      ];

      function init() {
        initDarkMode();
        mermaid.initialize({ startOnLoad: true, theme: "default" });
        switchTab("all");
      }

      function buildDiagramList() {
        const list = document.getElementById("diagramList");
        list.innerHTML = "";
        diagrams.forEach((diagram) => {
          const item = document.createElement("div");
          item.className = "sidebar-item";
          item.textContent =
            currentLanguage === "ar" ? diagram.nameAr : diagram.nameEn;
          item.onclick = () => showDiagram(diagram.id);
          if (diagram.id === "diagram1") {
            item.classList.add("active");
          }
          list.appendChild(item);
        });
      }

      function showDiagram(id) {
        const diagram = diagrams.find((d) => d.id === id);
        if (!diagram) return;

        // Update sidebar
        document.querySelectorAll(".sidebar-item").forEach((item) => {
          item.classList.remove("active");
        });
        event.target?.classList.add("active");

        // Show diagram
        const container = document.getElementById("flowcharts-container");
        const titleEn = diagram.nameEn;
        const titleAr = diagram.nameAr;
        const descEn = diagram.descEn;
        const descAr = diagram.descAr;

        container.innerHTML = `
                <div class="flowchart-container active">
                    <h2 class="flowchart-title">${
                      currentLanguage === "ar" ? titleAr : titleEn
                    }</h2>
                    <p class="flowchart-description">${
                      currentLanguage === "ar" ? descAr : descEn
                    }</p>
                    <div class="mermaid">${diagram.code}</div>
                    <div class="controls">
                        <button onclick="downloadDiagram('${id}')" id="btn-download">ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø©</button>
                        <button onclick="copyCode('${id}')" id="btn-copy">Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯</button>
                        <button onclick="printDiagram()" id="btn-print">Ø·Ø¨Ø§Ø¹Ø©</button>
                    </div>
                </div>
            `;

        mermaid.contentLoaded();
      }

      function switchTab(tab) {
        currentTab = tab;
        document.querySelectorAll(".tab-button").forEach((btn) => {
          btn.classList.remove("active");
        });
        document.getElementById(`tab-${tab}`).classList.add("active");

        const list = document.getElementById("diagramList");
        list.innerHTML = "";
        const filtered =
          tab === "all"
            ? diagrams
            : tab === "overview"
            ? diagrams.filter((d) => d.category === "overview")
            : tab === "regular"
            ? diagrams.filter((d) => d.category === "regular")
            : tab === "special"
            ? diagrams.filter((d) => d.category === "special")
            : diagrams.filter((d) => d.category === "processes");

        filtered.forEach((diagram) => {
          const item = document.createElement("div");
          item.className = "sidebar-item";
          item.textContent =
            currentLanguage === "ar" ? diagram.nameAr : diagram.nameEn;
          item.onclick = () => showDiagram(diagram.id);
          list.appendChild(item);
        });

        if (filtered.length > 0) {
          showDiagram(filtered[0].id);
        }
      }

      function toggleLanguage() {
        currentLanguage = currentLanguage === "ar" ? "en" : "ar";
        document.documentElement.dir = currentLanguage === "ar" ? "rtl" : "ltr";
        document.documentElement.lang = currentLanguage;

        // Update all text
        updateLanguage();
        buildDiagramList();
        showDiagram("diagram1");
      }

      function updateLanguage() {
        if (currentLanguage === "ar") {
          document.getElementById("title").textContent =
            "Ù…Ù†ØµØ© Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ© - Ù„ÙˆØ­Ø© Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„";
          document.getElementById("subtitle").textContent =
            "18 Ø±Ø³Ù… Ø¨ÙŠØ§Ù†ÙŠ ØªÙØ§Ø¹Ù„ÙŠ Ù„Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª";
          document.getElementById("tab-all").textContent =
            "Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©";
          document.getElementById("tab-overview").textContent = "Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©";
          document.getElementById("tab-regular").textContent =
            "Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©";
          document.getElementById("tab-special").textContent =
            "Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª Ø§Ù„Ø®Ø§ØµØ©";
          document.getElementById("tab-processes").textContent = "Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª";
          document.getElementById("label-diagrams").textContent = "Ø±Ø³Ù… Ø¨ÙŠØ§Ù†ÙŠ";
          document.getElementById("label-categories").textContent = "ÙØ¦Ø§Øª";
          document.getElementById("label-coverage").textContent = "ØªØºØ·ÙŠØ©";
          document.getElementById("legend-start").textContent =
            "Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©/Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„";
          document.getElementById("legend-decision").textContent =
            "Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚Ø±Ø§Ø±";
          document.getElementById("legend-success").textContent =
            "Ø§Ù„Ù†Ø¬Ø§Ø­/Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©";
          document.getElementById("legend-reject").textContent = "Ø§Ù„Ø±ÙØ¶/Ø§Ù„ØªÙˆÙ‚Ù";
          document.getElementById("footer").textContent =
            "Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Â© 2024 Ù…Ù†ØµØ© Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ©";
          document.getElementById("searchInput").placeholder = "Ø§Ù„Ø¨Ø­Ø«...";
          document.querySelector(".language-toggle").textContent =
            "English | Ø¹Ø±Ø¨ÙŠ";
          document
            .querySelectorAll("#btn-download")
            .forEach((btn) => (btn.textContent = "ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø©"));
          document
            .querySelectorAll("#btn-copy")
            .forEach((btn) => (btn.textContent = "Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯"));
          document
            .querySelectorAll("#btn-print")
            .forEach((btn) => (btn.textContent = "Ø·Ø¨Ø§Ø¹Ø©"));
        } else {
          document.getElementById("title").textContent =
            "E-Referral Medical Platform - Workflow Dashboard";
          document.getElementById("subtitle").textContent =
            "18 Interactive Diagrams for Operations Flow";
          document.getElementById("tab-all").textContent = "All Diagrams";
          document.getElementById("tab-overview").textContent = "Overview";
          document.getElementById("tab-regular").textContent =
            "Regular Referrals";
          document.getElementById("tab-special").textContent =
            "Special Referrals";
          document.getElementById("tab-processes").textContent = "Processes";
          document.getElementById("label-diagrams").textContent = "Diagrams";
          document.getElementById("label-categories").textContent =
            "Categories";
          document.getElementById("label-coverage").textContent = "Coverage";
          document.getElementById("legend-start").textContent = "Start/Input";
          document.getElementById("legend-decision").textContent =
            "Decision Points";
          document.getElementById("legend-success").textContent =
            "Success/Approval";
          document.getElementById("legend-reject").textContent =
            "Rejection/Stop";
          document.getElementById("footer").textContent =
            "All Rights Reserved Â© 2024 E-Referral Medical Platform";
          document.getElementById("searchInput").placeholder = "Search...";
          document.querySelector(".language-toggle").textContent =
            "English | Ø¹Ø±Ø¨ÙŠ";
          document
            .querySelectorAll("#btn-download")
            .forEach((btn) => (btn.textContent = "Download Image"));
          document
            .querySelectorAll("#btn-copy")
            .forEach((btn) => (btn.textContent = "Copy Code"));
          document
            .querySelectorAll("#btn-print")
            .forEach((btn) => (btn.textContent = "Print"));
        }
      }

      function filterDiagrams() {
        const searchText = document
          .getElementById("searchInput")
          .value.toLowerCase();
        const items = document.querySelectorAll(".sidebar-item");
        items.forEach((item) => {
          const text = item.textContent.toLowerCase();
          item.style.display = text.includes(searchText) ? "block" : "none";
        });
      }

      function downloadDiagram(id) {
        const svg = document.querySelector(".mermaid svg");
        if (!svg) {
          alert(
            currentLanguage === "ar"
              ? "Ù„Ù… ÙŠØªÙ… Ø±Ø³Ù… Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ Ø¨Ø¹Ø¯"
              : "Diagram not rendered yet"
          );
          return;
        }

        const canvas = document.createElement("canvas");
        const ctx = canvas.getContext("2d");
        const width = svg.viewBox.baseVal.width || svg.clientWidth;
        const height = svg.viewBox.baseVal.height || svg.clientHeight;

        canvas.width = width;
        canvas.height = height;

        const img = new Image();
        img.src =
          "data:image/svg+xml;base64," +
          btoa(new XMLSerializer().serializeToString(svg));
        img.onload = function () {
          ctx.drawImage(img, 0, 0);
          const link = document.createElement("a");
          link.href = canvas.toDataURL();
          link.download = `diagram-${id}.png`;
          link.click();
        };
      }

      function copyCode(id) {
        const diagram = diagrams.find((d) => d.id === id);
        const code = "```mermaid\n" + diagram.code + "\n```";
        navigator.clipboard.writeText(code).then(() => {
          alert(currentLanguage === "ar" ? "ØªÙ… Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯" : "Code copied!");
        });
      }

      function printDiagram() {
        window.print();
      }

      // Initialize on page load
      window.onload = init;
    </script>
  </body>
</html>
